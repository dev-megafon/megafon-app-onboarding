---
order: 0.5
title: Пример запроса для инициации вызова сотрудника
---

Этот запрос инициирует вызов сотрудника с указанными параметрами и отправляет соответствующие сообщения как контакту, так и сотруднику.

```json

{
 "jsonrpc": "2.0",
 "method": "start.employee_call",
 "id": "req1",
 "params": {
  "access_token": "2fRN4g217ca0b4224a67988aff3e584f91964a692045415f36fa66146f5a3c1ae1f6093d",
  "first_call": "employee",
  "switch_at_once": true,
  "media_file_id": 2701,
  "show_virtual_phone_number": false,
  "virtual_phone_number": "74993720692",
  "external_id": "334otr01",
  "dtmf_string": ".1.2.3",
  "direction": "in",
  "contact": "79260000000",
  "employee": {
   "id": 25,
   "phone_number": "79260000001"
  },
  "contact_message": {
   "type": "tts",
   "value": "Привет"
  },
  "employee_message": {
   "type": "media",
   "value": "2561"
  }
 }
}
```

### Запрос на начало вызова сотрудника

**Метод:** `start.employee_call`

**Версия JSON-RPC:** 2\.0

**Идентификатор запроса:** req1

**Параметры:**

-  **access_token**: строка, представляющая токен доступа для аутентификации пользователя. В данном примере:

   «`2fRN4g217ca0b4224a67988aff3e584f91964a692045415f36fa66146f5a3c1ae1f6093d`»

-  **first_call**: строка, указывающая тип первого вызова. В данном случае это вызов сотрудника:

   «`employee`»

-  **switch_at_once**: булевое значение, указывающее, следует ли переключить вызов сразу. Здесь установлено в` true`.

-  **media_file_id**: идентификатор медиафайла для проигрывания во время вызова. В примере:

   `2701`

-  **show_virtual_phone_number**: булевое значение, указывающее, следует ли отображать виртуальный номер телефона. Установлено в `false`.

-  **virtual_phone_number**: строка, представляющая виртуальный номер телефона, который будет использоваться при вызове:

   «`74993720692`»

-  **external_id**: строка, представляющая внешний идентификатор звонка или контакта. В примере:

   «`334otr01`»

-  **dtmf_string**: строка, представляющая последовательность DTMF (Dual-Tone Multi-Frequency) сигналов, которые будут отправлены во время звонка:

   «.`1.2.3`»

-  **direction**: строка, указывающая направление звонка. В данном случае это входящий звонок:

   «`in`»

-  **contact**: строка, представляющая номер телефона контакта, с которым будет осуществляться вызов:

   `«79260000000»`

-  **employee**: объект, содержащий информацию о сотруднике:

   -  **id**: уникальный идентификатор сотрудника (в данном примере: 25).

   -  **phone_number**: номер телефона сотрудника (в данном примере: «79260000001»).

-  **contact_message**: объект, содержащий сообщение для контакта:

   -  **type**: тип сообщения (в данном случае это TTS - синтезированный голос):

      «tts»

   -  **value**: текст сообщения, которое будет произнесено:

      «`Привет`»

-  **employee_message**: объект, содержащий сообщение для сотрудника:

   -  **type**: тип сообщения (в данном случае это файл):

      «`media`»

   -  **value**: идентификатор медиа-сообщения:

      «`2561`»

### 